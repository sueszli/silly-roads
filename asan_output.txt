cppcheck --enable=all --std=c++23 --language=c++ --suppressions-list=suppressions-cppcheck.txt --check-level=exhaustive --inconclusive --inline-suppr -I src/ -I /Users/sueszli/dev/raycer/build/default/_deps/raylib-src/src src/
Checking src/lib.cpp ...
1/2 files checked 12% done
Checking src/main.cpp ...
Checking src/main.cpp: BUILD_LIBTYPE_SHARED...
Checking src/main.cpp: BUILD_LIBTYPE_SHARED;_WIN32...
Checking src/main.cpp: USE_LIBTYPE_SHARED;_WIN32...
Checking src/main.cpp: _MSC_VER...
Checking src/main.cpp: _MSC_VER;__STDC__...
Checking src/main.cpp: _WIN32...
Checking src/main.cpp: _WIN32;__TINYC__...
Checking src/main.cpp: bool...
2/2 files checked 100% done
cmake -B /Users/sueszli/dev/raycer/build/default -S . -DCMAKE_CXX_COMPILER=/opt/homebrew/opt/llvm/bin/clang++
-- Defaulting build type to Debug.
-- Testing if -Werror=pointer-arith can be used -- compiles
-- Testing if -Werror=implicit-function-declaration can be used -- compiles
-- Testing if -fno-strict-aliasing can be used -- compiles
-- Using raylib's GLFW
-- Including Cocoa support
-- Audio Backend: miniaudio
-- Building raylib static library
-- Generated build type: Debug
-- Compiling with the flags:
--   PLATFORM=PLATFORM_DESKTOP
--   GRAPHICS=GRAPHICS_API_OPENGL_33
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /Users/sueszli/dev/raycer/build/default
cmake --build /Users/sueszli/dev/raycer/build/default -j12
[  4%] Built target lib
[  9%] Built target gtest
[ 14%] Built target gtest_main
[ 19%] Built target gmock
[ 24%] Built target gmock_main
[ 75%] Built target glfw
[ 95%] Built target raylib
[100%] Built target binary
ASAN_OPTIONS=detect_leaks=1 LSAN_OPTIONS=suppressions=/Users/sueszli/dev/raycer/suppressions-asan.txt /Users/sueszli/dev/raycer/build/default/binary
Hello, World!
Hello from lib!
INFO: Initializing raylib 5.5
INFO: Platform backend: DESKTOP (GLFW)
INFO: Supported raylib modules:
INFO:     > rcore:..... loaded (mandatory)
INFO:     > rlgl:...... loaded (mandatory)
INFO:     > rshapes:... loaded (optional)
INFO:     > rtextures:. loaded (optional)
INFO:     > rtext:..... loaded (optional)
INFO:     > rmodels:... loaded (optional)
INFO:     > raudio:.... loaded (optional)
INFO: DISPLAY: Device initialized successfully
INFO:     > Display size: 3360 x 1890
INFO:     > Screen size:  800 x 450
INFO:     > Render size:  800 x 450
INFO:     > Viewport offsets: 0, 0
INFO: GLAD: OpenGL extensions loaded successfully
INFO: GL: Supported extensions count: 43
INFO: GL: OpenGL device information:
INFO:     > Vendor:   Apple
INFO:     > Renderer: Apple M2 Pro
INFO:     > Version:  4.1 Metal - 89.4
INFO:     > GLSL:     4.10
INFO: GL: VAO extension detected, VAO functions loaded successfully
INFO: GL: NPOT textures extension detected, full NPOT textures supported
INFO: GL: DXT compressed textures supported
INFO: PLATFORM: DESKTOP (GLFW - Cocoa): Initialized successfully
INFO: TEXTURE: [ID 1] Texture loaded successfully (1x1 | R8G8B8A8 | 1 mipmaps)
INFO: TEXTURE: [ID 1] Default texture loaded successfully
INFO: SHADER: [ID 1] Vertex shader compiled successfully
INFO: SHADER: [ID 2] Fragment shader compiled successfully
INFO: SHADER: [ID 3] Program shader loaded successfully
INFO: SHADER: [ID 3] Default shader loaded successfully
INFO: RLGL: Render batch vertex buffers loaded successfully in RAM (CPU)
INFO: RLGL: Render batch vertex buffers loaded successfully in VRAM (GPU)
INFO: RLGL: Default OpenGL state initialized successfully
INFO: TEXTURE: [ID 2] Texture loaded successfully (128x128 | GRAY_ALPHA | 1 mipmaps)
INFO: FONT: Default font loaded successfully (224 glyphs)
INFO: SYSTEM: Working Directory: /Users/sueszli/dev/raycer
INFO: TIMER: Target time per frame: 16.667 milliseconds
INFO: TEXTURE: [ID 2] Unloaded texture data from VRAM (GPU)
INFO: SHADER: [ID 3] Default shader unloaded successfully
INFO: TEXTURE: [ID 1] Default texture unloaded successfully
INFO: Window closed successfully

=================================================================
==82823==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 4096 byte(s) in 1 object(s) allocated from:
    #0 0x0001015779a8 in posix_memalign+0x80 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x539a8)
    #1 0x000196f53b70 in _malloc_type_posix_memalign_outlined+0x40 (libsystem_malloc.dylib:arm64+0x1db70)
    #2 0x000196d47e78 in AutoreleasePoolPage::autoreleaseNoPage(objc_object*)+0x70 (libobjc.A.dylib:arm64+0xbe78)
    #3 0x000196d7cec0 in AutoreleasePoolPage::push()+0x48 (libobjc.A.dylib:arm64+0x40ec0)
    #4 0x00019d492bc4 in SLSMainConnectionID+0x10 (SkyLight:arm64+0x31fbc4)
    #5 0x00019bee3da0 in -[NSCGSWindow _createContext]+0x30 (AppKit:arm64+0xdd8da0)
    #6 0x00019bee4244 in __43-[NSCGSWindow _createContextAsynchronously]_block_invoke.79+0x38 (AppKit:arm64+0xdd9244)
    #7 0x0001015766a4 in __wrap_dispatch_async_block_invoke+0xb8 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x526a4)
    #8 0x000196f7fb28 in _dispatch_call_block_and_release+0x1c (libdispatch.dylib:arm64+0x1b28)
    #9 0x000196f99858 in _dispatch_client_callout+0xc (libdispatch.dylib:arm64+0x1b858)
    #10 0x000196f8834c in _dispatch_lane_serial_drain+0x2e0 (libdispatch.dylib:arm64+0xa34c)
    #11 0x000196f88e5c in _dispatch_lane_invoke+0x1b4 (libdispatch.dylib:arm64+0xae5c)
    #12 0x000196f93260 in _dispatch_root_queue_drain_deferred_wlh+0x120 (libdispatch.dylib:arm64+0x15260)
    #13 0x000196f92ae4 in _dispatch_workloop_worker_thread+0x218 (libdispatch.dylib:arm64+0x14ae4)
    #14 0x000197133e1c in _pthread_wqthread+0x120 (libsystem_pthread.dylib:arm64+0x2e1c)
    #15 0x000197132b70 in start_wqthread+0x4 (libsystem_pthread.dylib:arm64+0x1b70)

Direct leak of 4096 byte(s) in 1 object(s) allocated from:
    #0 0x0001015779a8 in posix_memalign+0x80 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x539a8)
    #1 0x000196f53b70 in _malloc_type_posix_memalign_outlined+0x40 (libsystem_malloc.dylib:arm64+0x1db70)
    #2 0x000196d47e78 in AutoreleasePoolPage::autoreleaseNoPage(objc_object*)+0x70 (libobjc.A.dylib:arm64+0xbe78)
    #3 0x000196d7cf24 in AutoreleasePoolPage::push()+0xac (libobjc.A.dylib:arm64+0x40f24)
    #4 0x00019d180964 in CGSGetMainConnectionMachPort+0x10 (SkyLight:arm64+0xd964)
    #5 0x00019d2cd85c in invocation function for block in devices_connection_change_handler(unsigned int, void*)+0x50 (SkyLight:arm64+0x15a85c)
    #6 0x0001015766a4 in __wrap_dispatch_async_block_invoke+0xb8 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x526a4)
    #7 0x000196f7fb28 in _dispatch_call_block_and_release+0x1c (libdispatch.dylib:arm64+0x1b28)
    #8 0x000196f99858 in _dispatch_client_callout+0xc (libdispatch.dylib:arm64+0x1b858)
    #9 0x000196f8834c in _dispatch_lane_serial_drain+0x2e0 (libdispatch.dylib:arm64+0xa34c)
    #10 0x000196f88e28 in _dispatch_lane_invoke+0x180 (libdispatch.dylib:arm64+0xae28)
    #11 0x000196f93260 in _dispatch_root_queue_drain_deferred_wlh+0x120 (libdispatch.dylib:arm64+0x15260)
    #12 0x000196f92ae4 in _dispatch_workloop_worker_thread+0x218 (libdispatch.dylib:arm64+0x14ae4)
    #13 0x000197133e1c in _pthread_wqthread+0x120 (libsystem_pthread.dylib:arm64+0x2e1c)
    #14 0x000197132b70 in start_wqthread+0x4 (libsystem_pthread.dylib:arm64+0x1b70)

Direct leak of 4096 byte(s) in 1 object(s) allocated from:
    #0 0x0001015779a8 in posix_memalign+0x80 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x539a8)
    #1 0x000196f53b70 in _malloc_type_posix_memalign_outlined+0x40 (libsystem_malloc.dylib:arm64+0x1db70)
    #2 0x000196d47e78 in AutoreleasePoolPage::autoreleaseNoPage(objc_object*)+0x70 (libobjc.A.dylib:arm64+0xbe78)
    #3 0x000196d4a7e0 in objc_object::rootAutorelease2()+0x28 (libobjc.A.dylib:arm64+0xe7e0)
    #4 0x000196d4a18c in objc_autorelease+0x9c (libobjc.A.dylib:arm64+0xe18c)
    #5 0x000196d7bb94 in <deduplicated_symbol>+0x28 (libobjc.A.dylib:arm64+0x3fb94)
    #6 0x000196d4b430 in objc_autoreleaseReturnValue+0x30 (libobjc.A.dylib:arm64+0xf430)
    #7 0x000196d47a04 in load_images+0x3d0 (libobjc.A.dylib:arm64+0xba04)
    #8 0x000196da83e8 in dyld4::RuntimeState::notifyObjCInit(dyld4::Loader const*)+0x1c4 (dyld:arm64+0xfffffffffff4c3e8)
    #9 0x000196db3450 in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0x124 (dyld:arm64+0xfffffffffff57450)
    #10 0x000196db33fc in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0xd0 (dyld:arm64+0xfffffffffff573fc)
    #11 0x000196db33fc in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0xd0 (dyld:arm64+0xfffffffffff573fc)
    #12 0x000196db33fc in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0xd0 (dyld:arm64+0xfffffffffff573fc)
    #13 0x000196db33fc in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0xd0 (dyld:arm64+0xfffffffffff573fc)
    #14 0x000196db33fc in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0xd0 (dyld:arm64+0xfffffffffff573fc)
    #15 0x000196db33fc in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0xd0 (dyld:arm64+0xfffffffffff573fc)
    #16 0x000196db33fc in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0xd0 (dyld:arm64+0xfffffffffff573fc)
    #17 0x000196db7bec in dyld4::Loader::runInitializersBottomUpPlusUpwardLinks(dyld4::RuntimeState&) const::$_0::operator()() const+0xb0 (dyld:arm64+0xfffffffffff5bbec)
    #18 0x000196db3778 in dyld4::Loader::runInitializersBottomUpPlusUpwardLinks(dyld4::RuntimeState&) const+0x2c8 (dyld:arm64+0xfffffffffff57778)
    #19 0x000196dd4a1c in dyld4::APIs::runAllInitializersForMain()+0x184 (dyld:arm64+0xfffffffffff78a1c)
    #20 0x000196d97dfc  (<unknown module>)
    #21 0x000196d971d4  (<unknown module>)
    #22 0x000196d96b48  (<unknown module>)

Direct leak of 4096 byte(s) in 1 object(s) allocated from:
    #0 0x0001015779a8 in posix_memalign+0x80 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x539a8)
    #1 0x000196f53b70 in _malloc_type_posix_memalign_outlined+0x40 (libsystem_malloc.dylib:arm64+0x1db70)
    #2 0x000196d47e78 in AutoreleasePoolPage::autoreleaseNoPage(objc_object*)+0x70 (libobjc.A.dylib:arm64+0xbe78)
    #3 0x000196d7cf24 in AutoreleasePoolPage::push()+0xac (libobjc.A.dylib:arm64+0x40f24)
    #4 0x0001971b08f0 in _CFAutoreleasePoolPush+0x10 (CoreFoundation:arm64+0xa8f0)
    #5 0x000197222f6c in __CFRunLoopDoSource1+0x1b0 (CoreFoundation:arm64+0x7cf6c)
    #6 0x0001972219b4 in __CFRunLoopRun+0x894 (CoreFoundation:arm64+0x7b9b4)
    #7 0x000197220a94 in CFRunLoopRunSpecific+0x238 (CoreFoundation:arm64+0x7aa94)
    #8 0x00019b269788 in _NSEventThread+0x88 (AppKit:arm64+0x15e788)
    #9 0x00010157416c in asan_thread_start(void*)+0x48 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x5016c)
    #10 0x000197137bc4 in _pthread_start+0x84 (libsystem_pthread.dylib:arm64+0x6bc4)
    #11 0x000197132b7c in thread_start+0x4 (libsystem_pthread.dylib:arm64+0x1b7c)

Direct leak of 1128 byte(s) in 1 object(s) allocated from:
    #0 0x000101577750 in calloc+0x78 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x53750)
    #1 0x000196f53a4c in _malloc_type_calloc_outlined+0x64 (libsystem_malloc.dylib:arm64+0x1da4c)
    #2 0x0001971ab044 in __CFTSDGetTable+0x40 (CoreFoundation:arm64+0x5044)
    #3 0x0001971aafbc in _CFGetTSDCreateIfNeeded+0x28 (CoreFoundation:arm64+0x4fbc)
    #4 0x0001972b1b38 in __CFDataInit+0x68 (CoreFoundation:arm64+0x10bb38)
    #5 0x00019d180924 in CGSPropertyListCreateWithSerializedBytes+0x30 (SkyLight:arm64+0xd924)
    #6 0x00019d17a8b4 in CGSPropertyListCreateWithSerializedBytesRequiringType+0x14 (SkyLight:arm64+0x78b4)
    #7 0x00019d2cd300 in update_devices_from_data_internal(void*, unsigned int)+0x64 (SkyLight:arm64+0x15a300)
    #8 0x00019d2cd964 in invocation function for block in devices_connection_change_handler(unsigned int, void*)+0x158 (SkyLight:arm64+0x15a964)
    #9 0x0001015766a4 in __wrap_dispatch_async_block_invoke+0xb8 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x526a4)
    #10 0x000196f7fb28 in _dispatch_call_block_and_release+0x1c (libdispatch.dylib:arm64+0x1b28)
    #11 0x000196f99858 in _dispatch_client_callout+0xc (libdispatch.dylib:arm64+0x1b858)
    #12 0x000196f8834c in _dispatch_lane_serial_drain+0x2e0 (libdispatch.dylib:arm64+0xa34c)
    #13 0x000196f88e28 in _dispatch_lane_invoke+0x180 (libdispatch.dylib:arm64+0xae28)
    #14 0x000196f93260 in _dispatch_root_queue_drain_deferred_wlh+0x120 (libdispatch.dylib:arm64+0x15260)
    #15 0x000196f92ae4 in _dispatch_workloop_worker_thread+0x218 (libdispatch.dylib:arm64+0x14ae4)
    #16 0x000197133e1c in _pthread_wqthread+0x120 (libsystem_pthread.dylib:arm64+0x2e1c)
    #17 0x000197132b70 in start_wqthread+0x4 (libsystem_pthread.dylib:arm64+0x1b70)

Direct leak of 1128 byte(s) in 1 object(s) allocated from:
    #0 0x000101577750 in calloc+0x78 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x53750)
    #1 0x000196f53a4c in _malloc_type_calloc_outlined+0x64 (libsystem_malloc.dylib:arm64+0x1da4c)
    #2 0x0001971ab044 in __CFTSDGetTable+0x40 (CoreFoundation:arm64+0x5044)
    #3 0x0001971aafbc in _CFGetTSDCreateIfNeeded+0x28 (CoreFoundation:arm64+0x4fbc)
    #4 0x0001971af8dc in CFNumberCreate+0x2c (CoreFoundation:arm64+0x98dc)
    #5 0x0001976ed1f4 in invocation function for block in LSSharedMemoryPage::CopyForSessionID(LSSessionID, bool)+0x4c (LaunchServices:arm64+0x81f4)
    #6 0x000196f99858 in _dispatch_client_callout+0xc (libdispatch.dylib:arm64+0x1b858)
    #7 0x000196f8f7a4 in _dispatch_lane_barrier_sync_invoke_and_complete+0x34 (libdispatch.dylib:arm64+0x117a4)
    #8 0x0001976ece20 in LSSharedMemoryPage::CopyForSessionID(LSSessionID, bool)+0xc0 (LaunchServices:arm64+0x7e20)
    #9 0x0001976f065c in _LSCopyApplicationInformationItem+0x40 (LaunchServices:arm64+0xb65c)
    #10 0x00019b1130b8 in __105-[NSApplication(NSPersistentUISupport) _disableRelaunchOnLoginIfNotLaunchedByLaunchServicesOrBlacklisted]_block_invoke+0x28 (AppKit:arm64+0x80b8)
    #11 0x00019b14a01c in ___NSPersistentUIDispatchQueueAsync_block_invoke+0x48 (AppKit:arm64+0x3f01c)
    #12 0x0001015766a4 in __wrap_dispatch_async_block_invoke+0xb8 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x526a4)
    #13 0x000196f7fb28 in _dispatch_call_block_and_release+0x1c (libdispatch.dylib:arm64+0x1b28)
    #14 0x000196f99858 in _dispatch_client_callout+0xc (libdispatch.dylib:arm64+0x1b858)
    #15 0x000196fb5864 in _dispatch_queue_override_invoke.cold.3+0x1c (libdispatch.dylib:arm64+0x37864)
    #16 0x000196f84274 in _dispatch_queue_override_invoke+0x34c (libdispatch.dylib:arm64+0x6274)
    #17 0x000196f91e2c in _dispatch_root_queue_drain+0x168 (libdispatch.dylib:arm64+0x13e2c)
    #18 0x000196f925d0 in _dispatch_worker_thread2+0x98 (libdispatch.dylib:arm64+0x145d0)
    #19 0x000197133de0 in _pthread_wqthread+0xe4 (libsystem_pthread.dylib:arm64+0x2de0)
    #20 0x000197132b70 in start_wqthread+0x4 (libsystem_pthread.dylib:arm64+0x1b70)

Direct leak of 1128 byte(s) in 1 object(s) allocated from:
    #0 0x000101577750 in calloc+0x78 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x53750)
    #1 0x000196f53a4c in _malloc_type_calloc_outlined+0x64 (libsystem_malloc.dylib:arm64+0x1da4c)
    #2 0x0001971ab044 in __CFTSDGetTable+0x40 (CoreFoundation:arm64+0x5044)
    #3 0x0001971aafbc in _CFGetTSDCreateIfNeeded+0x28 (CoreFoundation:arm64+0x4fbc)
    #4 0x000198799a1c in _NSThreadGet0+0x58 (Foundation:arm64+0x2a1c)
    #5 0x0001987996f8 in _NSInitializePlatform+0x194 (Foundation:arm64+0x26f8)
    #6 0x000196d47a04 in load_images+0x3d0 (libobjc.A.dylib:arm64+0xba04)
    #7 0x000196da83e8 in dyld4::RuntimeState::notifyObjCInit(dyld4::Loader const*)+0x1c4 (dyld:arm64+0xfffffffffff4c3e8)
    #8 0x000196db3450 in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0x124 (dyld:arm64+0xfffffffffff57450)
    #9 0x000196db33fc in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0xd0 (dyld:arm64+0xfffffffffff573fc)
    #10 0x000196db33fc in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0xd0 (dyld:arm64+0xfffffffffff573fc)
    #11 0x000196db33fc in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0xd0 (dyld:arm64+0xfffffffffff573fc)
    #12 0x000196db33fc in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0xd0 (dyld:arm64+0xfffffffffff573fc)
    #13 0x000196db33fc in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0xd0 (dyld:arm64+0xfffffffffff573fc)
    #14 0x000196db33fc in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0xd0 (dyld:arm64+0xfffffffffff573fc)
    #15 0x000196db33fc in dyld4::Loader::runInitializersBottomUp(dyld4::RuntimeState&, dyld3::Array<dyld4::Loader const*>&, dyld3::Array<dyld4::Loader const*>&) const+0xd0 (dyld:arm64+0xfffffffffff573fc)
    #16 0x000196db7bec in dyld4::Loader::runInitializersBottomUpPlusUpwardLinks(dyld4::RuntimeState&) const::$_0::operator()() const+0xb0 (dyld:arm64+0xfffffffffff5bbec)
    #17 0x000196db3778 in dyld4::Loader::runInitializersBottomUpPlusUpwardLinks(dyld4::RuntimeState&) const+0x2c8 (dyld:arm64+0xfffffffffff57778)
    #18 0x000196dd4a1c in dyld4::APIs::runAllInitializersForMain()+0x184 (dyld:arm64+0xfffffffffff78a1c)
    #19 0x000196d97dfc  (<unknown module>)
    #20 0x000196d971d4  (<unknown module>)
    #21 0x000196d96b48  (<unknown module>)

Direct leak of 1128 byte(s) in 1 object(s) allocated from:
    #0 0x000101577750 in calloc+0x78 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x53750)
    #1 0x000196f53a4c in _malloc_type_calloc_outlined+0x64 (libsystem_malloc.dylib:arm64+0x1da4c)
    #2 0x0001971ab044 in __CFTSDGetTable+0x40 (CoreFoundation:arm64+0x5044)
    #3 0x0001971aafbc in _CFGetTSDCreateIfNeeded+0x28 (CoreFoundation:arm64+0x4fbc)
    #4 0x0001972b1b38 in __CFDataInit+0x68 (CoreFoundation:arm64+0x10bb38)
    #5 0x00019725a9f8 in CFReadStreamCreateWithBytesNoCopy+0x2c (CoreFoundation:arm64+0xb49f8)
    #6 0x0001a06cb914 in __69-[_CSIRenditionBlockData expandCSIBitmapData:fromSlice:makeReadOnly:]_block_invoke+0x58 (CoreUI:arm64+0x26914)
    #7 0x000196f99870 in _dispatch_client_callout2+0xc (libdispatch.dylib:arm64+0x1b870)
    #8 0x000196f9460c in _dispatch_apply_invoke3+0x14c (libdispatch.dylib:arm64+0x1660c)
    #9 0x000196f99858 in _dispatch_client_callout+0xc (libdispatch.dylib:arm64+0x1b858)
    #10 0x000196f82a24 in _dispatch_once_callout+0x1c (libdispatch.dylib:arm64+0x4a24)
    #11 0x000196f9374c in _dispatch_apply_invoke+0xf8 (libdispatch.dylib:arm64+0x1574c)
    #12 0x000196f99858 in _dispatch_client_callout+0xc (libdispatch.dylib:arm64+0x1b858)
    #13 0x000196fb648c  (libdispatch.dylib):arm64+0x3848c)
    #14 0x000196f91fa0 in _dispatch_root_queue_drain+0x2dc (libdispatch.dylib:arm64+0x13fa0)
    #15 0x000196f925d0 in _dispatch_worker_thread2+0x98 (libdispatch.dylib:arm64+0x145d0)
    #16 0x000197133de0 in _pthread_wqthread+0xe4 (libsystem_pthread.dylib:arm64+0x2de0)
    #17 0x000197132b70 in start_wqthread+0x4 (libsystem_pthread.dylib:arm64+0x1b70)

Direct leak of 1128 byte(s) in 1 object(s) allocated from:
    #0 0x000101577750 in calloc+0x78 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x53750)
    #1 0x000196f53a4c in _malloc_type_calloc_outlined+0x64 (libsystem_malloc.dylib:arm64+0x1da4c)
    #2 0x0001971ab044 in __CFTSDGetTable+0x40 (CoreFoundation:arm64+0x5044)
    #3 0x0001971aafbc in _CFGetTSDCreateIfNeeded+0x28 (CoreFoundation:arm64+0x4fbc)
    #4 0x0001971c1648 in CFAllocatorGetDefault+0x10 (CoreFoundation:arm64+0x1b648)
    #5 0x0001971ab1a4 in __NSCFDictionaryCreateMutable+0x70 (CoreFoundation:arm64+0x51a4)
    #6 0x0001971ab0a8 in CFDictionaryCreateMutable+0x28 (CoreFoundation:arm64+0x50a8)
    #7 0x000199182b70 in _NSXPCSerializationAddObjectRef+0x5c (Foundation:arm64+0x9ebb70)
    #8 0x0001987b3d74 in -[NSXPCEncoder _encodeObject:]+0x10c (Foundation:arm64+0x1cd74)
    #9 0x0001987b8b08 in _NSXPCSerializationAddInvocationWithOnlyObjectArgumentsArray+0x70 (Foundation:arm64+0x21b08)
    #10 0x0001987b89c0 in -[NSXPCEncoder _encodeInvocationObjectArgumentsOnly:count:typeString:selector:isReply:into:]+0xcc (Foundation:arm64+0x219c0)
    #11 0x0001987b231c in -[NSXPCConnection _sendInvocation:orArguments:count:methodSignature:selector:withProxy:]+0x470 (Foundation:arm64+0x1b31c)
    #12 0x0001987b9c00 in -[NSXPCConnection _sendSelector:withProxy:arg1:]+0x70 (Foundation:arm64+0x22c00)
    #13 0x0001987b9b34 in _NSXPCDistantObjectSimpleMessageSend1+0x38 (Foundation:arm64+0x22b34)
    #14 0x000277b6663c in -[WMClientWindowManager _performXPCTransaction:]+0xb4 (WindowManagement:arm64+0xe63c)
    #15 0x000196f99858 in _dispatch_client_callout+0xc (libdispatch.dylib:arm64+0x1b858)
    #16 0x000196f8f7a4 in _dispatch_lane_barrier_sync_invoke_and_complete+0x34 (libdispatch.dylib:arm64+0x117a4)
    #17 0x000277b64800 in -[WMClientWindowManager sendWindowTransaction:]+0x7c (WindowManagement:arm64+0xc800)
    #18 0x00019be637f4 in -[NSWMWindowCoordinator _sendCompletedTransactions]+0xc4 (AppKit:arm64+0xd587f4)
    #19 0x0001015766a4 in __wrap_dispatch_async_block_invoke+0xb8 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x526a4)
    #20 0x000196f7fb28 in _dispatch_call_block_and_release+0x1c (libdispatch.dylib:arm64+0x1b28)
    #21 0x000196f99858 in _dispatch_client_callout+0xc (libdispatch.dylib:arm64+0x1b858)
    #22 0x000196f8834c in _dispatch_lane_serial_drain+0x2e0 (libdispatch.dylib:arm64+0xa34c)
    #23 0x000196f88e5c in _dispatch_lane_invoke+0x1b4 (libdispatch.dylib:arm64+0xae5c)
    #24 0x000196f93260 in _dispatch_root_queue_drain_deferred_wlh+0x120 (libdispatch.dylib:arm64+0x15260)
    #25 0x000196f92ae4 in _dispatch_workloop_worker_thread+0x218 (libdispatch.dylib:arm64+0x14ae4)
    #26 0x000197133e1c in _pthread_wqthread+0x120 (libsystem_pthread.dylib:arm64+0x2e1c)
    #27 0x000197132b70 in start_wqthread+0x4 (libsystem_pthread.dylib:arm64+0x1b70)

Direct leak of 1128 byte(s) in 1 object(s) allocated from:
    #0 0x000101577750 in calloc+0x78 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x53750)
    #1 0x000196f53a4c in _malloc_type_calloc_outlined+0x64 (libsystem_malloc.dylib:arm64+0x1da4c)
    #2 0x0001971ab044 in __CFTSDGetTable+0x40 (CoreFoundation:arm64+0x5044)
    #3 0x0001971aafbc in _CFGetTSDCreateIfNeeded+0x28 (CoreFoundation:arm64+0x4fbc)
    #4 0x0001971e5208 in CFRunLoopGetCurrent+0x30 (CoreFoundation:arm64+0x3f208)
    #5 0x0001a2cbb480 in _BeginEventReceiptOnThreadWithFilter+0x1c (HIToolbox:arm64+0xbb480)
    #6 0x00019b269728 in _NSEventThread+0x28 (AppKit:arm64+0x15e728)
    #7 0x00010157416c in asan_thread_start(void*)+0x48 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x5016c)
    #8 0x000197137bc4 in _pthread_start+0x84 (libsystem_pthread.dylib:arm64+0x6bc4)
    #9 0x000197132b7c in thread_start+0x4 (libsystem_pthread.dylib:arm64+0x1b7c)

Direct leak of 512 byte(s) in 4 object(s) allocated from:
    #0 0x000101577478 in malloc+0x70 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x53478)
    #1 0x0001970fe7d4 in mach_msg_overwrite+0x254 (libsystem_kernel.dylib:arm64+0x97d4)
    #2 0x0001970f5fa4 in mach_msg+0x14 (libsystem_kernel.dylib:arm64+0xfa4)
    #3 0x000196f9db38 in dispatch_mig_server+0x124 (libdispatch.dylib:arm64+0x1fb38)
    #4 0x000101576c28 in __wrap_dispatch_source_set_event_handler_block_invoke+0xb8 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x52c28)
    #5 0x000196f99858 in _dispatch_client_callout+0xc (libdispatch.dylib:arm64+0x1b858)
    #6 0x000196f845dc in _dispatch_continuation_pop+0x250 (libdispatch.dylib:arm64+0x65dc)
    #7 0x000196f9761c in _dispatch_source_latch_and_call+0x188 (libdispatch.dylib:arm64+0x1961c)
    #8 0x000196f962f4 in _dispatch_source_invoke+0x348 (libdispatch.dylib:arm64+0x182f4)
    #9 0x000196f881b4 in _dispatch_lane_serial_drain+0x148 (libdispatch.dylib:arm64+0xa1b4)
    #10 0x000196f88e28 in _dispatch_lane_invoke+0x180 (libdispatch.dylib:arm64+0xae28)
    #11 0x000196f93260 in _dispatch_root_queue_drain_deferred_wlh+0x120 (libdispatch.dylib:arm64+0x15260)
    #12 0x000196f92ae4 in _dispatch_workloop_worker_thread+0x218 (libdispatch.dylib:arm64+0x14ae4)
    #13 0x000197133e1c in _pthread_wqthread+0x120 (libsystem_pthread.dylib:arm64+0x2e1c)
    #14 0x000197132b70 in start_wqthread+0x4 (libsystem_pthread.dylib:arm64+0x1b70)

Direct leak of 256 byte(s) in 1 object(s) allocated from:
    #0 0x000101577478 in malloc+0x70 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x53478)
    #1 0x000196f539d4 in _malloc_type_malloc_outlined+0x60 (libsystem_malloc.dylib:arm64+0x1d9d4)
    #2 0x000196dcb338 in dyld4::APIs::setErrorString(char const*, ...)+0xa8 (dyld:arm64+0xfffffffffff6f338)
    #3 0x000196dccdf0 in dyld4::APIs::dlsym(void*, char const*)+0x6fc (dyld:arm64+0xfffffffffff70df0)
    #4 0x00019d511bc4 in __loginframework_vtable_block_invoke+0x58 (SkyLight:arm64+0x39ebc4)
    #5 0x000196f99858 in _dispatch_client_callout+0xc (libdispatch.dylib:arm64+0x1b858)
    #6 0x000196f82a24 in _dispatch_once_callout+0x1c (libdispatch.dylib:arm64+0x4a24)
    #7 0x00019d5136e4 in SLSCopyCurrentSessionPropertiesInternalBridge+0x17c (SkyLight:arm64+0x3a06e4)
    #8 0x00019d2e4c78 in SLSessionCopyCurrentDictionary+0x10 (SkyLight:arm64+0x171c78)
    #9 0x00019b2394b0 in -[NSDockConnection _makeConnectionIfNeededWithRetryInterval:onDemand:]+0x3c (AppKit:arm64+0x12e4b0)
    #10 0x00019bd1e09c in __35-[NSDockConnection startConnection]_block_invoke.13+0x28 (AppKit:arm64+0xc1309c)
    #11 0x0001015766a4 in __wrap_dispatch_async_block_invoke+0xb8 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x526a4)
    #12 0x000196f7fb28 in _dispatch_call_block_and_release+0x1c (libdispatch.dylib:arm64+0x1b28)
    #13 0x000196f99858 in _dispatch_client_callout+0xc (libdispatch.dylib:arm64+0x1b858)
    #14 0x000196f8834c in _dispatch_lane_serial_drain+0x2e0 (libdispatch.dylib:arm64+0xa34c)
    #15 0x000196f88e28 in _dispatch_lane_invoke+0x180 (libdispatch.dylib:arm64+0xae28)
    #16 0x000196f93260 in _dispatch_root_queue_drain_deferred_wlh+0x120 (libdispatch.dylib:arm64+0x15260)
    #17 0x000196f92ae4 in _dispatch_workloop_worker_thread+0x218 (libdispatch.dylib:arm64+0x14ae4)
    #18 0x000197133e1c in _pthread_wqthread+0x120 (libsystem_pthread.dylib:arm64+0x2e1c)
    #19 0x000197132b70 in start_wqthread+0x4 (libsystem_pthread.dylib:arm64+0x1b70)

Direct leak of 112 byte(s) in 1 object(s) allocated from:
    #0 0x000101577750 in calloc+0x78 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x53750)
    #1 0x000196f53a4c in _malloc_type_calloc_outlined+0x64 (libsystem_malloc.dylib:arm64+0x1da4c)
    #2 0x000196d437e8 in class_createInstance+0x48 (libobjc.A.dylib:arm64+0x77e8)
    #3 0x00019879a0a8 in NSAllocateObject+0x18 (Foundation:arm64+0x30a8)
    #4 0x0001a09d152c in +[NSISLinearExpression newExpressionWithCapacity:engine:]+0x68 (CoreAutoLayout:arm64+0x2f52c)
    #5 0x0001a09bb384 in +[NSISLinearExpression acquireFromPoolForUseCase:engine:]+0xe0 (CoreAutoLayout:arm64+0x19384)
    #6 0x0001a09c0d4c in -[NSLayoutConstraint _addToEngine:mutuallyExclusiveConstraints:]+0x84 (CoreAutoLayout:arm64+0x1ed4c)
    #7 0x00019bf461fc in __60-[NSView(NSConstraintBasedLayoutInternal) _setLayoutEngine:]_block_invoke_2+0x134 (AppKit:arm64+0xe3b1fc)
    #8 0x0001a09ad748 in -[NSISEngine withBehaviors:performModifications:]+0x54 (CoreAutoLayout:arm64+0xb748)
    #9 0x00019bf469a0 in -[NSView(NSConstraintBasedLayoutInternal) _withAutomaticEngineOptimizationDisabled:]+0x2c (AppKit:arm64+0xe3b9a0)
    #10 0x00019bf46090 in __60-[NSView(NSConstraintBasedLayoutInternal) _setLayoutEngine:]_block_invoke+0x144 (AppKit:arm64+0xe3b090)
    #11 0x00019bf45efc in -[NSView(NSConstraintBasedLayoutInternal) _setLayoutEngine:]+0x1e8 (AppKit:arm64+0xe3aefc)
    #12 0x00019b1a3214 in make_and_host_engine+0x8c (AppKit:arm64+0x98214)
    #13 0x00019bf456e0 in -[NSView(NSConstraintBasedLayoutInternal) _didChangeHostsAutolayoutEngineTo:]+0x34 (AppKit:arm64+0xe3a6e0)
    #14 0x00019bf45c20 in -[NSView(NSConstraintBasedLayoutInternal) _engageAutolayout]+0x60 (AppKit:arm64+0xe3ac20)
    #15 0x00019bf45c38 in -[NSView(NSConstraintBasedLayoutInternal) _engageAutolayout]+0x78 (AppKit:arm64+0xe3ac38)
    #16 0x00019bf46c94 in -[NSView(NSConstraintBasedLayoutInternal) _tryToAddConstraint:integralizationAdjustment:mutuallyExclusiveConstraints:]+0x60 (AppKit:arm64+0xe3bc94)
    #17 0x0001a09c19e0 in +[NSLayoutConstraint _addOrRemoveConstraints:activate:]+0x150 (CoreAutoLayout:arm64+0x1f9e0)
    #18 0x0002701f7750 in -[TUINSWindow setInsets:]+0x2f8 (TextInputUIMacHelper:arm64+0x3750)
    #19 0x0002701f7424 in -[TUINSWindow setRemoteViewController:]+0x138 (TextInputUIMacHelper:arm64+0x3424)
    #20 0x0002701f84e0 in __36-[TUINSCursorUIController activate:]_block_invoke.128+0x10c (TextInputUIMacHelper:arm64+0x44e0)
    #21 0x0001a0884c5c in -[NSRemoteViewControllerAuxiliary viewDidAdvanceToRunPhase:]+0x34 (ViewBridge:arm64+0x86c5c)
    #22 0x0001a086e0b0 in -[NSRemoteView _lastCallImpliedByAdvancingToPhase:]+0xe0 (ViewBridge:arm64+0x700b0)
    #23 0x000197203310 in __invoking___+0x90 (CoreFoundation:arm64+0x5d310)
    #24 0x0001972031a0 in -[NSInvocation invoke]+0x1a4 (CoreFoundation:arm64+0x5d1a0)
    #25 0x0001a080bb44 in __deferNSXPCInvocationOntoMainThread_block_invoke+0x80 (ViewBridge:arm64+0xdb44)
    #26 0x0001a0802050 in __wrapBlockWithVoucher_block_invoke+0x34 (ViewBridge:arm64+0x4050)
    #27 0x0001a0899990 in deferredBlockOpportunity_block_invoke_2+0x160 (ViewBridge:arm64+0x9b990)
    #28 0x0001972226b0 in __CFRUNLOOP_IS_CALLING_OUT_TO_A_BLOCK__+0x18 (CoreFoundation:arm64+0x7c6b0)
    #29 0x0001972225c0 in __CFRunLoopDoBlocks+0x15c (CoreFoundation:arm64+0x7c5c0)

Direct leak of 96 byte(s) in 1 object(s) allocated from:
    #0 0x000101577ac4 in __sanitizer_mz_malloc+0x70 (libclang_rt.asan_osx_dynamic.dylib:arm64+0x53ac4)
    #1 0x000196f6907c in _malloc_zone_malloc_instrumented_or_legacy+0x94 (libsystem_malloc.dylib:arm64+0x3307c)
    #2 0x000196f53bc8 in _malloc_type_zone_malloc_outlined+0x44 (libsystem_malloc.dylib:arm64+0x1dbc8)
    #3 0x0001971a9c68 in _CFRuntimeCreateInstance+0x36c (CoreFoundation:arm64+0x3c68)
    #4 0x00019d69d218 in CGTypeCreateInstance+0x34 (CoreGraphics:arm64+0x3218)
    #5 0x00019d69e558 in create_color+0x80 (CoreGraphics:arm64+0x4558)
    #6 0x0001a06ac374 in CUICoreThemeRenderer::CopyCustomColorCore(__CFString const*, __CFDictionary const*) const+0x2c8 (CoreUI:arm64+0x7374)
    #7 0x0001a06f67c4 in CUIRenderer::CopyCustomColorWithOptions(__CFString const*, __CFDictionary const*) const+0x70 (CoreUI:arm64+0x517c4)
    #8 0x0001a06ac070 in CUICopyCustomColorWithOptions+0xac (CoreUI:arm64+0x7070)
    #9 0x00019b1157d4 in __44-[NSAppearance _copyCustomCGColor:withTint:]_block_invoke+0x20 (AppKit:arm64+0xa7d4)
    #10 0x00019b14fc50 in -[NSCompositeAppearance _callCoreUIWithBlock:options:requireBezelTintColor:]+0x11c (AppKit:arm64+0x44c50)
    #11 0x00019b115760 in -[NSAppearance _copyCustomCGColor:withTint:]+0xd4 (AppKit:arm64+0xa760)
    #12 0x00019b115654 in -[NSAppearance _customColor:withTint:]+0x10 (AppKit:arm64+0xa654)
    #13 0x00019b17aa70 in -[NSDynamicNamedColor colorUsingColorSpaceName:device:]+0x40 (AppKit:arm64+0x6fa70)
    #14 0x00019b17a1b8 in -[NSTextFieldCell _textAttributes]+0xd0 (AppKit:arm64+0x6f1b8)
    #15 0x00019b1e98a8 in -[NSTextFieldCell _vibrancyBlendModeForControlView:]+0xa4 (AppKit:arm64+0xde8a8)
    #16 0x00019b1e9760 in -[NSControl _vibrancyBlendMode]+0x24 (AppKit:arm64+0xde760)
    #17 0x00019bc6d850 in -[NSView _vibrancyFilter]+0xc (AppKit:arm64+0xb62850)
    #18 0x00019bc6d9a4 in __34-[NSView _effectiveVibrancyFilter]_block_invoke+0x28 (AppKit:arm64+0xb629a4)
    #19 0x00019b1355d4 in +[NSAppearance _performWithCurrentAppearance:usingBlock:]+0x44 (AppKit:arm64+0x2a5d4)
    #20 0x00019bc6d92c in -[NSView _effectiveVibrancyFilter]+0xc0 (AppKit:arm64+0xb6292c)
    #21 0x00019bc6d9d8 in -[NSView _updateVibrancy]+0x14 (AppKit:arm64+0xb629d8)
    #22 0x00019b1e94f0 in NSViewUpdateVibrancyForSubtree+0x4c (AppKit:arm64+0xde4f0)
    #23 0x00019b1e956c in NSViewUpdateVibrancyForSubtree+0xc8 (AppKit:arm64+0xde56c)
    #24 0x00019b1e956c in NSViewUpdateVibrancyForSubtree+0xc8 (AppKit:arm64+0xde56c)
    #25 0x00019b1e956c in NSViewUpdateVibrancyForSubtree+0xc8 (AppKit:arm64+0xde56c)
    #26 0x00019b1e93ac in -[NSWindow displayIfNeeded]+0x9c (AppKit:arm64+0xde3ac)
    #27 0x00019b1e9280 in __NSWindowGetDisplayCycleObserverForDisplay_block_invoke+0x204 (AppKit:arm64+0xde280)
    #28 0x00019b1e81b0 in NSDisplayCycleObserverInvoke+0xa4 (AppKit:arm64+0xdd1b0)
    #29 0x00019b1e7e2c in NSDisplayCycleFlush+0x28c (AppKit:arm64+0xdce2c)

-----------------------------------------------------
Suppressions used:
  count      bytes template
     11        448 _fetchInitializingClassList
      8        352 __Balloc_D2A
      1         16 _glfwDestroyWindowCocoa
     66       9604 _glfwPollEventsCocoa
     17       9320 _glfwInitCocoa
      4        448 _glfwCreateWindowCocoa
     22      46144 DrawOnePartImageWithOperation
     24       3072 create_colorsync_profile_sequence
    137       4944 CMMConvMatrixTemplate
      4        200 NSKVOCopyPendingNotificationStack
    410      33224 CGColorConversionInfoIterateFunctionsWithCallbacks
     18       4032 GetColorspaceTransformsWithTransformWithCGColorConversionInfo
     37       8632 CreatePass_ColorSpaceTransformWithCGColorConversionInfo
      8       8440 CreatePass_ChunkyToPlanarWithCGColorConversionInfo
      2        144 CreatePass_Premultiply
      2        144 CreatePass_Unpremultiply
     51      10016 CMMMemMgr
     30       2880 AppleCMMInitializeTransform
      3        272 RBSXPCMessageContext
     30       2080 ColorSyncTransformCreate
      1         56 ColorSyncMakeProfile
     11       8184 CGCMSConverterCreateCachedCGvImageConverter
     12       5064 vImageConverter_CreateWithCGColorConversionInfo
      1         48 LSDatabaseContext
      1          4 _LSContextInitCommon
      1         32 TCGFontCache
      2        936 TPerThreadLRUCache
      3         48 CreateEventLoop
    149      16401 NSXPCDecoder
      8        496 CUIStructuredThemeStore
      7        784 CUICatalog
    142       5680 TRequestCache
      4         80 swift_slowAlloc
     16       2048 CGColorConversionInfoCreateFromList
     10        320 colorsync_transform_data_key_retain
      3        156 conversion_params_data_key_retain
      5       1360 conversion_cache_get_retained_conversion_params
     20       1048 NSThemeFrame
-----------------------------------------------------

SUMMARY: AddressSanitizer: 24128 byte(s) leaked in 17 allocation(s).
make: *** [run] Error 1
